<h2>MCP Configuration</h2>
<p class="muted">You have been authenticated. Use this configuration in your client. The token is generated and the
    session has been saved on the
    server.</p>

<div class="card" style="margin-bottom:12px;">
    <pre style="white-space:pre-wrap;">{{ config_json }}</pre>
</div>

<form action="/download-config/{{ token }}" method="get" style="display:inline-block;">
    <button type="submit">Download JSON</button>
</form>

<button type="button" id="copyBtn"
    onclick="(async ()=>{await navigator.clipboard.writeText(document.querySelector('pre').innerText); const btn=document.getElementById('copyBtn'); const prev=btn.innerText; btn.innerText='âœ“ Copied'; setTimeout(()=>btn.innerText=prev, 2000);})()">Copy
    to Clipboard</button>

<div class="muted" style="margin-top:8px;">Domain comes from DOMAIN env at runtime.</div>